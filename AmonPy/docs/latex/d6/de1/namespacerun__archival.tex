\hypertarget{namespacerun__archival}{\section{run\-\_\-archival Namespace Reference}
\label{namespacerun__archival}\index{run\-\_\-archival@{run\-\_\-archival}}
}


\begin{DoxyVerb} This is a top level script which imports
 a large timeslice of events from the database and
 executes an analysis on them to generate alerts.\end{DoxyVerb}
  


\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{namespacerun__archival_a020b34744fef770ee7c2d058e26329e1}{parse\-\_\-command\-\_\-line}
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
dictionary \hyperlink{namespacerun__archival_a4e34d883a21aad086411da12b9df04af}{missing\-\_\-requirements} = \{\}
\item 
list \hyperlink{namespacerun__archival_a4f433eaf745d43b1793399014f83b4d4}{required\-\_\-arguments} = \mbox{[}'host','username','database','output\-\_\-config'\mbox{]}
\item 
string \hyperlink{namespacerun__archival_a5770f98d6d8edce5553721e9cb3873fd}{missing\-\_\-args\-\_\-str} = 'Missing the following required options\-:'
\item 
tuple \hyperlink{namespacerun__archival_a81b9709cc3c8589bfc7ecd72c354cba6}{Event} = event\-\_\-def()
\item 
tuple \hyperlink{namespacerun__archival_abe42e5e247442fb2afd7c8aa5322cd5f}{config} = ex\-Alert\-Config()
\item 
list \hyperlink{namespacerun__archival_a175f39c7d10885511c4623d3425db6ba}{event\-\_\-streams} = \mbox{[}0,1,7\mbox{]}
\item 
int \hyperlink{namespacerun__archival_a5a97b1e71d6ad7513865ee536b7b4dea}{stream\-\_\-num} = 1
\item 
int \hyperlink{namespacerun__archival_a0fe00f8ef6c40a90a1d41ecea3f75e7b}{rev} = 0
\item 
tuple \hyperlink{namespacerun__archival_a1aa2ba0984af9e6525f66fb7d1f912d5}{stream\-\_\-count}
\item 
list \hyperlink{namespacerun__archival_a18e24cc5c90db59c1cff4c0f69f82fa6}{choices\-\_\-stream}
\item 
string \hyperlink{namespacerun__archival_a345979c5efe939df4bbf314d62511433}{thresh1} = '\{'
\item 
tuple \hyperlink{namespacerun__archival_aa0af2b82ec84c97c5e9a4cffcec972c3}{thresh2} = str(\hyperlink{namespacerun__archival_a175f39c7d10885511c4623d3425db6ba}{event\-\_\-streams}\mbox{[}1\mbox{]})
\item 
tuple \hyperlink{namespacerun__archival_a59a2df7dced0835b40b789af0ee70d18}{thresh3} = str(\hyperlink{namespacerun__archival_a175f39c7d10885511c4623d3425db6ba}{event\-\_\-streams}\mbox{[}2\mbox{]})
\item 
tuple \hyperlink{namespacerun__archival_ad807127baa562a1a1f13c1c41dc9ff7c}{Time\-Slice} = timedelta.\-total\-\_\-seconds(config.\-valid\-Stop -\/ config.\-valid\-Start)
\item 
tuple \hyperlink{namespacerun__archival_a53d4e2d27208c61f6d716aabecf14cb9}{Time\-Start} = str(config.\-valid\-Start)
\item 
tuple \hyperlink{namespacerun__archival_adac2aadd91ae98a0f37065bf28c01999}{Time\-Stop} = str(config.\-valid\-Stop)
\item 
tuple \hyperlink{namespacerun__archival_ae4106daf64be22b10853a0d056069368}{t1} = time()
\item 
tuple \hyperlink{namespacerun__archival_a46a929fd7b61c93a6bf4aa010103b238}{events}
\item 
tuple \hyperlink{namespacerun__archival_a2179a933281124091cdc32bed8a04c7f}{t2} = time()
\item 
tuple \hyperlink{namespacerun__archival_ae9e6113a713c17cde32e43834a99436a}{anal\-\_\-p}
\item 
tuple \hyperlink{namespacerun__archival_af84da43386d4cf1664600fe963e0cc67}{alerts} = client\-\_\-p.\-recv()
\item 
tuple \hyperlink{namespacerun__archival_a589caa564ea001aef6438ad3603fb021}{alertlines} = db\-\_\-populate\-\_\-class.\-populate\-\_\-alertline(\hyperlink{namespacerun__archival_af84da43386d4cf1664600fe963e0cc67}{alerts})
\item 
tuple \hyperlink{namespacerun__archival_ab4dad5a97c86185353fedf0feefa562e}{count}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\begin{DoxyVerb} This is a top level script which imports
 a large timeslice of events from the database and
 executes an analysis on them to generate alerts.\end{DoxyVerb}
 Works with the Enthought Canopy package management

Example\-: $>$ python \hyperlink{run__archival_8py}{run\-\_\-archival.\-py} \hyperlink{dbaccess_8txt}{dbaccess.\-txt}

where \hyperlink{dbaccess_8txt}{dbaccess.\-txt} contans a string in dictionary format, containing the information required to access the database 

\subsection{Function Documentation}
\hypertarget{namespacerun__archival_a020b34744fef770ee7c2d058e26329e1}{\index{run\-\_\-archival@{run\-\_\-archival}!parse\-\_\-command\-\_\-line@{parse\-\_\-command\-\_\-line}}
\index{parse\-\_\-command\-\_\-line@{parse\-\_\-command\-\_\-line}!run_archival@{run\-\_\-archival}}
\subsubsection[{parse\-\_\-command\-\_\-line}]{\setlength{\rightskip}{0pt plus 5cm}def run\-\_\-archival.\-parse\-\_\-command\-\_\-line (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{namespacerun__archival_a020b34744fef770ee7c2d058e26329e1}


Definition at line 48 of file run\-\_\-archival.\-py.



\subsection{Variable Documentation}
\hypertarget{namespacerun__archival_a589caa564ea001aef6438ad3603fb021}{\index{run\-\_\-archival@{run\-\_\-archival}!alertlines@{alertlines}}
\index{alertlines@{alertlines}!run_archival@{run\-\_\-archival}}
\subsubsection[{alertlines}]{\setlength{\rightskip}{0pt plus 5cm}tuple run\-\_\-archival.\-alertlines = db\-\_\-populate\-\_\-class.\-populate\-\_\-alertline({\bf alerts})}}\label{namespacerun__archival_a589caa564ea001aef6438ad3603fb021}


Definition at line 303 of file run\-\_\-archival.\-py.

\hypertarget{namespacerun__archival_af84da43386d4cf1664600fe963e0cc67}{\index{run\-\_\-archival@{run\-\_\-archival}!alerts@{alerts}}
\index{alerts@{alerts}!run_archival@{run\-\_\-archival}}
\subsubsection[{alerts}]{\setlength{\rightskip}{0pt plus 5cm}tuple run\-\_\-archival.\-alerts = client\-\_\-p.\-recv()}}\label{namespacerun__archival_af84da43386d4cf1664600fe963e0cc67}


Definition at line 280 of file run\-\_\-archival.\-py.

\hypertarget{namespacerun__archival_ae9e6113a713c17cde32e43834a99436a}{\index{run\-\_\-archival@{run\-\_\-archival}!anal\-\_\-p@{anal\-\_\-p}}
\index{anal\-\_\-p@{anal\-\_\-p}!run_archival@{run\-\_\-archival}}
\subsubsection[{anal\-\_\-p}]{\setlength{\rightskip}{0pt plus 5cm}tuple run\-\_\-archival.\-anal\-\_\-p}}\label{namespacerun__archival_ae9e6113a713c17cde32e43834a99436a}
{\bfseries Initial value\-:}
\begin{DoxyCode}
1 = multiprocessing.Process(target=analysis.anal,
2                     args=((server\_p,client\_p),config))
\end{DoxyCode}


Definition at line 265 of file run\-\_\-archival.\-py.

\hypertarget{namespacerun__archival_a18e24cc5c90db59c1cff4c0f69f82fa6}{\index{run\-\_\-archival@{run\-\_\-archival}!choices\-\_\-stream@{choices\-\_\-stream}}
\index{choices\-\_\-stream@{choices\-\_\-stream}!run_archival@{run\-\_\-archival}}
\subsubsection[{choices\-\_\-stream}]{\setlength{\rightskip}{0pt plus 5cm}list run\-\_\-archival.\-choices\-\_\-stream}}\label{namespacerun__archival_a18e24cc5c90db59c1cff4c0f69f82fa6}
{\bfseries Initial value\-:}
\begin{DoxyCode}
1 = [\textcolor{stringliteral}{'IceCube only'},\textcolor{stringliteral}{'ANTARES only'}, \textcolor{stringliteral}{'HAWC only'}, \textcolor{stringliteral}{'IceCube + ANTARES'},
2                     \textcolor{stringliteral}{'IceCube + HAWC'}, \textcolor{stringliteral}{'ANTARES + HAWC'},\textcolor{stringliteral}{'IceCube + Swift'},\textcolor{stringliteral}{'All'}, \textcolor{stringliteral}{'Cancel'}]
\end{DoxyCode}


Definition at line 154 of file run\-\_\-archival.\-py.

\hypertarget{namespacerun__archival_abe42e5e247442fb2afd7c8aa5322cd5f}{\index{run\-\_\-archival@{run\-\_\-archival}!config@{config}}
\index{config@{config}!run_archival@{run\-\_\-archival}}
\subsubsection[{config}]{\setlength{\rightskip}{0pt plus 5cm}tuple run\-\_\-archival.\-config = ex\-Alert\-Config()}}\label{namespacerun__archival_abe42e5e247442fb2afd7c8aa5322cd5f}


Definition at line 127 of file run\-\_\-archival.\-py.

\hypertarget{namespacerun__archival_ab4dad5a97c86185353fedf0feefa562e}{\index{run\-\_\-archival@{run\-\_\-archival}!count@{count}}
\index{count@{count}!run_archival@{run\-\_\-archival}}
\subsubsection[{count}]{\setlength{\rightskip}{0pt plus 5cm}tuple run\-\_\-archival.\-count}}\label{namespacerun__archival_ab4dad5a97c86185353fedf0feefa562e}
{\bfseries Initial value\-:}
\begin{DoxyCode}
1 = db\_read.alert\_count(stream\_num,\textcolor{stringliteral}{"alert"},options.host,
2                            options.username,options.password,options.database)
\end{DoxyCode}


Definition at line 315 of file run\-\_\-archival.\-py.

\hypertarget{namespacerun__archival_a81b9709cc3c8589bfc7ecd72c354cba6}{\index{run\-\_\-archival@{run\-\_\-archival}!Event@{Event}}
\index{Event@{Event}!run_archival@{run\-\_\-archival}}
\subsubsection[{Event}]{\setlength{\rightskip}{0pt plus 5cm}tuple run\-\_\-archival.\-Event = event\-\_\-def()}}\label{namespacerun__archival_a81b9709cc3c8589bfc7ecd72c354cba6}


Definition at line 122 of file run\-\_\-archival.\-py.

\hypertarget{namespacerun__archival_a175f39c7d10885511c4623d3425db6ba}{\index{run\-\_\-archival@{run\-\_\-archival}!event\-\_\-streams@{event\-\_\-streams}}
\index{event\-\_\-streams@{event\-\_\-streams}!run_archival@{run\-\_\-archival}}
\subsubsection[{event\-\_\-streams}]{\setlength{\rightskip}{0pt plus 5cm}list run\-\_\-archival.\-event\-\_\-streams = \mbox{[}0,1,7\mbox{]}}}\label{namespacerun__archival_a175f39c7d10885511c4623d3425db6ba}


Definition at line 129 of file run\-\_\-archival.\-py.

\hypertarget{namespacerun__archival_a46a929fd7b61c93a6bf4aa010103b238}{\index{run\-\_\-archival@{run\-\_\-archival}!events@{events}}
\index{events@{events}!run_archival@{run\-\_\-archival}}
\subsubsection[{events}]{\setlength{\rightskip}{0pt plus 5cm}tuple run\-\_\-archival.\-events}}\label{namespacerun__archival_a46a929fd7b61c93a6bf4aa010103b238}
{\bfseries Initial value\-:}
\begin{DoxyCode}
1 = db\_read.read\_event\_timeslice\_streams(event\_streams, TimeStart,TimeSlice,options.host,
2                                     options.username,options.password,options.database)
\end{DoxyCode}


Definition at line 253 of file run\-\_\-archival.\-py.

\hypertarget{namespacerun__archival_a5770f98d6d8edce5553721e9cb3873fd}{\index{run\-\_\-archival@{run\-\_\-archival}!missing\-\_\-args\-\_\-str@{missing\-\_\-args\-\_\-str}}
\index{missing\-\_\-args\-\_\-str@{missing\-\_\-args\-\_\-str}!run_archival@{run\-\_\-archival}}
\subsubsection[{missing\-\_\-args\-\_\-str}]{\setlength{\rightskip}{0pt plus 5cm}string run\-\_\-archival.\-missing\-\_\-args\-\_\-str = 'Missing the following required options\-:'}}\label{namespacerun__archival_a5770f98d6d8edce5553721e9cb3873fd}


Definition at line 102 of file run\-\_\-archival.\-py.

\hypertarget{namespacerun__archival_a4e34d883a21aad086411da12b9df04af}{\index{run\-\_\-archival@{run\-\_\-archival}!missing\-\_\-requirements@{missing\-\_\-requirements}}
\index{missing\-\_\-requirements@{missing\-\_\-requirements}!run_archival@{run\-\_\-archival}}
\subsubsection[{missing\-\_\-requirements}]{\setlength{\rightskip}{0pt plus 5cm}dictionary run\-\_\-archival.\-missing\-\_\-requirements = \{\}}}\label{namespacerun__archival_a4e34d883a21aad086411da12b9df04af}


Definition at line 92 of file run\-\_\-archival.\-py.

\hypertarget{namespacerun__archival_a4f433eaf745d43b1793399014f83b4d4}{\index{run\-\_\-archival@{run\-\_\-archival}!required\-\_\-arguments@{required\-\_\-arguments}}
\index{required\-\_\-arguments@{required\-\_\-arguments}!run_archival@{run\-\_\-archival}}
\subsubsection[{required\-\_\-arguments}]{\setlength{\rightskip}{0pt plus 5cm}list run\-\_\-archival.\-required\-\_\-arguments = \mbox{[}'host','username','database','output\-\_\-config'\mbox{]}}}\label{namespacerun__archival_a4f433eaf745d43b1793399014f83b4d4}


Definition at line 93 of file run\-\_\-archival.\-py.

\hypertarget{namespacerun__archival_a0fe00f8ef6c40a90a1d41ecea3f75e7b}{\index{run\-\_\-archival@{run\-\_\-archival}!rev@{rev}}
\index{rev@{rev}!run_archival@{run\-\_\-archival}}
\subsubsection[{rev}]{\setlength{\rightskip}{0pt plus 5cm}int run\-\_\-archival.\-rev = 0}}\label{namespacerun__archival_a0fe00f8ef6c40a90a1d41ecea3f75e7b}


Definition at line 134 of file run\-\_\-archival.\-py.

\hypertarget{namespacerun__archival_a1aa2ba0984af9e6525f66fb7d1f912d5}{\index{run\-\_\-archival@{run\-\_\-archival}!stream\-\_\-count@{stream\-\_\-count}}
\index{stream\-\_\-count@{stream\-\_\-count}!run_archival@{run\-\_\-archival}}
\subsubsection[{stream\-\_\-count}]{\setlength{\rightskip}{0pt plus 5cm}tuple run\-\_\-archival.\-stream\-\_\-count}}\label{namespacerun__archival_a1aa2ba0984af9e6525f66fb7d1f912d5}
{\bfseries Initial value\-:}
\begin{DoxyCode}
1 = db\_read.stream\_count\_alertconfig(options.host,
2                           options.username,options.password,options.database)
\end{DoxyCode}


Definition at line 145 of file run\-\_\-archival.\-py.

\hypertarget{namespacerun__archival_a5a97b1e71d6ad7513865ee536b7b4dea}{\index{run\-\_\-archival@{run\-\_\-archival}!stream\-\_\-num@{stream\-\_\-num}}
\index{stream\-\_\-num@{stream\-\_\-num}!run_archival@{run\-\_\-archival}}
\subsubsection[{stream\-\_\-num}]{\setlength{\rightskip}{0pt plus 5cm}int run\-\_\-archival.\-stream\-\_\-num = 1}}\label{namespacerun__archival_a5a97b1e71d6ad7513865ee536b7b4dea}


Definition at line 133 of file run\-\_\-archival.\-py.

\hypertarget{namespacerun__archival_ae4106daf64be22b10853a0d056069368}{\index{run\-\_\-archival@{run\-\_\-archival}!t1@{t1}}
\index{t1@{t1}!run_archival@{run\-\_\-archival}}
\subsubsection[{t1}]{\setlength{\rightskip}{0pt plus 5cm}tuple run\-\_\-archival.\-t1 = time()}}\label{namespacerun__archival_ae4106daf64be22b10853a0d056069368}


Definition at line 252 of file run\-\_\-archival.\-py.

\hypertarget{namespacerun__archival_a2179a933281124091cdc32bed8a04c7f}{\index{run\-\_\-archival@{run\-\_\-archival}!t2@{t2}}
\index{t2@{t2}!run_archival@{run\-\_\-archival}}
\subsubsection[{t2}]{\setlength{\rightskip}{0pt plus 5cm}tuple run\-\_\-archival.\-t2 = time()}}\label{namespacerun__archival_a2179a933281124091cdc32bed8a04c7f}


Definition at line 255 of file run\-\_\-archival.\-py.

\hypertarget{namespacerun__archival_a345979c5efe939df4bbf314d62511433}{\index{run\-\_\-archival@{run\-\_\-archival}!thresh1@{thresh1}}
\index{thresh1@{thresh1}!run_archival@{run\-\_\-archival}}
\subsubsection[{thresh1}]{\setlength{\rightskip}{0pt plus 5cm}string run\-\_\-archival.\-thresh1 = '\{'}}\label{namespacerun__archival_a345979c5efe939df4bbf314d62511433}


Definition at line 202 of file run\-\_\-archival.\-py.

\hypertarget{namespacerun__archival_aa0af2b82ec84c97c5e9a4cffcec972c3}{\index{run\-\_\-archival@{run\-\_\-archival}!thresh2@{thresh2}}
\index{thresh2@{thresh2}!run_archival@{run\-\_\-archival}}
\subsubsection[{thresh2}]{\setlength{\rightskip}{0pt plus 5cm}tuple run\-\_\-archival.\-thresh2 = str({\bf event\-\_\-streams}\mbox{[}1\mbox{]})}}\label{namespacerun__archival_aa0af2b82ec84c97c5e9a4cffcec972c3}


Definition at line 204 of file run\-\_\-archival.\-py.

\hypertarget{namespacerun__archival_a59a2df7dced0835b40b789af0ee70d18}{\index{run\-\_\-archival@{run\-\_\-archival}!thresh3@{thresh3}}
\index{thresh3@{thresh3}!run_archival@{run\-\_\-archival}}
\subsubsection[{thresh3}]{\setlength{\rightskip}{0pt plus 5cm}tuple run\-\_\-archival.\-thresh3 = str({\bf event\-\_\-streams}\mbox{[}2\mbox{]})}}\label{namespacerun__archival_a59a2df7dced0835b40b789af0ee70d18}


Definition at line 215 of file run\-\_\-archival.\-py.

\hypertarget{namespacerun__archival_ad807127baa562a1a1f13c1c41dc9ff7c}{\index{run\-\_\-archival@{run\-\_\-archival}!Time\-Slice@{Time\-Slice}}
\index{Time\-Slice@{Time\-Slice}!run_archival@{run\-\_\-archival}}
\subsubsection[{Time\-Slice}]{\setlength{\rightskip}{0pt plus 5cm}tuple run\-\_\-archival.\-Time\-Slice = timedelta.\-total\-\_\-seconds(config.\-valid\-Stop -\/ config.\-valid\-Start)}}\label{namespacerun__archival_ad807127baa562a1a1f13c1c41dc9ff7c}


Definition at line 249 of file run\-\_\-archival.\-py.

\hypertarget{namespacerun__archival_a53d4e2d27208c61f6d716aabecf14cb9}{\index{run\-\_\-archival@{run\-\_\-archival}!Time\-Start@{Time\-Start}}
\index{Time\-Start@{Time\-Start}!run_archival@{run\-\_\-archival}}
\subsubsection[{Time\-Start}]{\setlength{\rightskip}{0pt plus 5cm}tuple run\-\_\-archival.\-Time\-Start = str(config.\-valid\-Start)}}\label{namespacerun__archival_a53d4e2d27208c61f6d716aabecf14cb9}


Definition at line 250 of file run\-\_\-archival.\-py.

\hypertarget{namespacerun__archival_adac2aadd91ae98a0f37065bf28c01999}{\index{run\-\_\-archival@{run\-\_\-archival}!Time\-Stop@{Time\-Stop}}
\index{Time\-Stop@{Time\-Stop}!run_archival@{run\-\_\-archival}}
\subsubsection[{Time\-Stop}]{\setlength{\rightskip}{0pt plus 5cm}tuple run\-\_\-archival.\-Time\-Stop = str(config.\-valid\-Stop)}}\label{namespacerun__archival_adac2aadd91ae98a0f37065bf28c01999}


Definition at line 251 of file run\-\_\-archival.\-py.

